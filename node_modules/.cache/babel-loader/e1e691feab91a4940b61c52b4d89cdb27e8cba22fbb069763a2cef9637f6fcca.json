{"ast":null,"code":"import _objectSpread from \"/home/buket-b/Portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"/home/buket-b/Portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { deepClone, get, isNil } from './utils/helpers.js';\nimport { lottieColorToHex, properties, resetProperties, updateProperties } from './utils/lottie.js';\n/**\n * Scale factor for supported customizable properties.\n */\nexport const PROPERTY_SCALE = 50;\n/**\n * Prefix for icon states. Properties with this prefix are handled as icon states.\n */\nexport const STATE_PREFIX = 'state-';\n/**\n * Default lottie-web options used by provided Player.\n */\nexport const DEFAULT_LOTTIE_WEB_OPTIONS = {\n  renderer: \"svg\",\n  loop: false,\n  autoplay: false,\n  rendererSettings: {\n    preserveAspectRatio: \"xMidYMid meet\",\n    progressiveLoad: true,\n    hideOnTransparent: true\n  }\n};\n/**\n * Create convenient proxy for manipulating colors.\n */\nfunction createColorsProxy() {\n  return new Proxy(this, {\n    set: (target, property, value, receiver) => {\n      if (typeof property === 'string') {\n        if (value) {\n          updateProperties(this.lottie, this.rawProperties.filter(c => c.type === 'color' && c.name === property.toLowerCase()), value);\n        } else {\n          resetProperties(this.lottie, this.rawProperties.filter(c => c.type === 'color' && c.name === property.toLowerCase()));\n        }\n        target.refresh();\n      }\n      return true;\n    },\n    get: (target, property, receiver) => {\n      for (const current of target.rawProperties) {\n        if (current.type == 'color' && typeof property === 'string' && property.toLowerCase() == current.name) {\n          const data = get(this.lottie, current.path);\n          if (data) {\n            return lottieColorToHex(data);\n          }\n        }\n      }\n      return undefined;\n    },\n    deleteProperty: (target, property) => {\n      if (typeof property === 'string') {\n        resetProperties(this.lottie, this.rawProperties.filter(c => c.type === 'color' && c.name === property.toLowerCase()));\n        target.refresh();\n      }\n      return true;\n    },\n    ownKeys: target => {\n      return target.rawProperties.filter(c => c.type == 'color').map(c => c.name);\n    },\n    has: (target, property) => {\n      for (const current of target.rawProperties) {\n        if (current.type == 'color' && typeof property === 'string' && property.toLowerCase() == current.name) {\n          return true;\n        }\n      }\n      return false;\n    },\n    getOwnPropertyDescriptor: target => {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n}\n/**\n * The player implementation as a wrapper around `lottie-web`.\n *\n * Main purposes:\n *\n * - Provides simple API to control animation and customize icon properties on the fly.\n * - Allows to react on the animation life cycle.\n * - Separate integration with `lottie-web` from our custom element. That way, the player can potentially work without a _custom element_.\n * - Simplifies custom element implementation.\n * - Simplifies testing.\n */\nexport class Player {\n  /**\n   *\n   * @param animationLoader Provide `loadAnimation` here from `lottie-web`.\n   * @param container DOM element in which the animation will be drawn.\n   * @param iconData Lottie icon data.\n   * @param options Options for `lottie-web`. If not provided {@link DEFAULT_LOTTIE_WEB_OPTIONS | default} will be used.\n   */\n  constructor(animationLoader, container, iconData, options) {\n    _defineProperty(this, \"_animationLoader\", void 0);\n    _defineProperty(this, \"_container\", void 0);\n    _defineProperty(this, \"_iconData\", void 0);\n    _defineProperty(this, \"_options\", void 0);\n    _defineProperty(this, \"_lottie\", void 0);\n    _defineProperty(this, \"_isReady\", false);\n    _defineProperty(this, \"_colorsProxy\", void 0);\n    _defineProperty(this, \"_direction\", 1);\n    _defineProperty(this, \"_speed\", 1);\n    _defineProperty(this, \"_rawProperties\", void 0);\n    _defineProperty(this, \"_eventCallbacks\", {});\n    this._animationLoader = animationLoader;\n    this._container = container;\n    this._iconData = iconData;\n    this._options = options || DEFAULT_LOTTIE_WEB_OPTIONS;\n  }\n  connect() {\n    if (this._lottie) {\n      throw new Error('Already connected player!');\n    }\n    this._lottie = this._animationLoader(_objectSpread(_objectSpread({}, this._options), {}, {\n      container: this._container,\n      animationData: deepClone(this._iconData)\n    }));\n    this._lottie.addEventListener('complete', () => {\n      this.triggerEvent('complete');\n    });\n    this._lottie.addEventListener('loopComplete', () => {\n      this.triggerEvent('complete');\n    });\n    this._lottie.addEventListener('enterFrame', params => {\n      this.triggerEvent('frame');\n    });\n    if (this._lottie.isLoaded) {\n      this._container.classList.add('ready');\n      this._isReady = true;\n      this.triggerEvent('ready');\n    } else {\n      this._lottie.addEventListener('config_ready', () => {\n        this._container.classList.add('ready');\n        this._isReady = true;\n        this.triggerEvent('ready');\n      });\n    }\n  }\n  disconnect() {\n    if (!this._lottie) {\n      throw new Error('Not connected player!');\n    }\n    this._isReady = false;\n    this._lottie.destroy();\n    this._lottie = undefined;\n    this._colorsProxy = undefined;\n    this._rawProperties = undefined;\n    this._container.classList.remove('ready');\n  }\n  addEventListener(name, callback) {\n    if (!this._eventCallbacks[name]) {\n      this._eventCallbacks[name] = [];\n    }\n    this._eventCallbacks[name].push(callback);\n    return () => {\n      this.removeEventListener(name, callback);\n    };\n  }\n  removeEventListener(eventName, callback) {\n    if (!callback) {\n      this._eventCallbacks[eventName] = null;\n    } else if (this._eventCallbacks[eventName]) {\n      let i = 0;\n      let len = this._eventCallbacks[eventName].length;\n      while (i < len) {\n        if (this._eventCallbacks[eventName][i] === callback) {\n          this._eventCallbacks[eventName].splice(i, 1);\n          i -= 1;\n          len -= 1;\n        }\n        i += 1;\n      }\n      if (!this._eventCallbacks[eventName].length) {\n        this._eventCallbacks[eventName] = null;\n      }\n    }\n  }\n  /**\n   * Trigger event.\n   * @param eventName Event name.\n   * @param args Args.\n   */\n  triggerEvent(eventName, args) {\n    if (this._eventCallbacks[eventName]) {\n      const callbacks = this._eventCallbacks[eventName];\n      for (let i = 0; i < callbacks.length; i += 1) {\n        callbacks[i](args);\n      }\n    }\n  }\n  /**\n   * Refresh animation and notify about that fact.\n   */\n  refresh() {\n    var _this$_lottie;\n    (_this$_lottie = this._lottie) === null || _this$_lottie === void 0 || _this$_lottie.renderer.renderFrame(null);\n    this.triggerEvent('refresh');\n  }\n  play() {\n    this._lottie.play();\n  }\n  playFromBeginning() {\n    this._lottie.goToAndPlay(0);\n  }\n  playSegment(from, to) {\n    this._lottie.playSegments([from, to], true);\n  }\n  pause() {\n    this._lottie.pause();\n  }\n  stop() {\n    this._lottie.stop();\n  }\n  goToFrame(frame) {\n    this._lottie.goToAndStop(frame, true);\n  }\n  goToFirstFrame() {\n    this.goToFrame(0);\n  }\n  goToLastFrame() {\n    this.goToFrame(Math.max(0, this._lottie.getDuration(true) - 1));\n  }\n  resetProperties() {\n    let properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!properties || typeof properties !== 'object') {\n      return;\n    }\n    // allows to optimize initial assign properties without redundant reset to default\n    const alreadyCustomized = this._rawProperties ? true : false;\n    // colors\n    if (alreadyCustomized) {\n      resetProperties(this._lottie, this.rawProperties.filter(c => c.type === 'color'));\n    }\n    if (properties.colors && !isNil(properties.colors)) {\n      for (const [key, value] of Object.entries(properties.colors)) {\n        updateProperties(this._lottie, this.rawProperties.filter(c => c.type === 'color' && c.name === key.toLowerCase()), value);\n      }\n    }\n    // state\n    if (alreadyCustomized) {\n      resetProperties(this._lottie, this.rawProperties.filter(c => c.name.startsWith(STATE_PREFIX)));\n    }\n    if (!isNil(properties.state) && properties.state) {\n      const name = \"\".concat(STATE_PREFIX).concat(properties.state.toLowerCase());\n      updateProperties(this._lottie, this.rawProperties.filter(c => c.name.startsWith(STATE_PREFIX)), 0);\n      updateProperties(this._lottie, this.rawProperties.filter(c => c.name === name), 1);\n    }\n    // stroke\n    if (!isNil(properties.stroke)) {\n      updateProperties(this._lottie, this.rawProperties.filter(c => c.name === 'stroke'), properties.stroke, {\n        scale: PROPERTY_SCALE\n      });\n    } else if (alreadyCustomized) {\n      resetProperties(this._lottie, this.rawProperties.filter(c => c.name === 'stroke'));\n    }\n    this.refresh();\n  }\n  set colors(colors) {\n    resetProperties(this._lottie, this.rawProperties.filter(c => c.type === 'color'));\n    if (colors) {\n      for (const [key, value] of Object.entries(colors)) {\n        updateProperties(this._lottie, this.rawProperties.filter(c => c.type === 'color' && c.name === key.toLowerCase()), value);\n      }\n    }\n    this.refresh();\n  }\n  get colors() {\n    if (!this._colorsProxy) {\n      this._colorsProxy = createColorsProxy.call(this);\n    }\n    return this._colorsProxy;\n  }\n  set stroke(stroke) {\n    if (isNil(stroke)) {\n      resetProperties(this._lottie, this.rawProperties.filter(c => c.name === 'stroke'));\n    } else {\n      updateProperties(this._lottie, this.rawProperties.filter(c => c.name === 'stroke'), stroke, {\n        scale: PROPERTY_SCALE\n      });\n    }\n    this.refresh();\n  }\n  get stroke() {\n    const property = this.rawProperties.filter(c => c.name === 'stroke')[0];\n    if (property) {\n      return get(this._lottie, property.path) * (PROPERTY_SCALE / property.value);\n    }\n    return null;\n  }\n  set state(state) {\n    if (isNil(state)) {\n      resetProperties(this._lottie, this.rawProperties.filter(c => c.name.startsWith(STATE_PREFIX)));\n    } else {\n      const name = \"\".concat(STATE_PREFIX).concat(state.toLowerCase());\n      updateProperties(this._lottie, this.rawProperties.filter(c => c.name.startsWith(STATE_PREFIX)), 0);\n      updateProperties(this._lottie, this.rawProperties.filter(c => c.name === name), 1);\n    }\n    this.refresh();\n  }\n  get state() {\n    for (const property of this.rawProperties.filter(c => c.name.startsWith(STATE_PREFIX))) {\n      const value = get(this._lottie, property.path);\n      if (value) {\n        return property.name.substr(STATE_PREFIX.length);\n      }\n    }\n    return null;\n  }\n  set speed(speed) {\n    var _this$_lottie2;\n    this._speed = speed;\n    (_this$_lottie2 = this._lottie) === null || _this$_lottie2 === void 0 || _this$_lottie2.setSpeed(speed);\n  }\n  get speed() {\n    return this._speed;\n  }\n  set direction(direction) {\n    this._direction = direction;\n    this._lottie.setDirection(direction);\n  }\n  get direction() {\n    return this._direction;\n  }\n  set loop(loop) {\n    this._lottie.loop = loop;\n  }\n  get loop() {\n    return this._lottie.loop ? true : false;\n  }\n  set frame(frame) {\n    this.goToFrame(Math.max(0, Math.min(this.frames, frame)));\n  }\n  get frame() {\n    return this._lottie.currentFrame;\n  }\n  get states() {\n    return this.rawProperties.filter(c => c.name.startsWith(STATE_PREFIX)).map(c => {\n      return c.name.substr(STATE_PREFIX.length);\n    });\n  }\n  get isPlaying() {\n    return !this._lottie.isPaused;\n  }\n  get isReady() {\n    return this._isReady;\n  }\n  get frames() {\n    return this._lottie.getDuration(true) - 1;\n  }\n  get duration() {\n    return this._lottie.getDuration(false);\n  }\n  /**\n   * Access to internal lottie player instance.\n   */\n  get lottie() {\n    return this._lottie;\n  }\n  /**\n   * Supported customizable properties by loaded icon.\n   */\n  get rawProperties() {\n    if (!this._rawProperties && this._iconData) {\n      this._rawProperties = properties(this._iconData, {\n        lottieInstance: true\n      });\n    }\n    return this._rawProperties || [];\n  }\n}","map":{"version":3,"names":["deepClone","get","isNil","lottieColorToHex","properties","resetProperties","updateProperties","PROPERTY_SCALE","STATE_PREFIX","DEFAULT_LOTTIE_WEB_OPTIONS","renderer","loop","autoplay","rendererSettings","preserveAspectRatio","progressiveLoad","hideOnTransparent","createColorsProxy","Proxy","set","target","property","value","receiver","lottie","rawProperties","filter","c","type","name","toLowerCase","refresh","current","data","path","undefined","deleteProperty","ownKeys","map","has","getOwnPropertyDescriptor","enumerable","configurable","Player","constructor","animationLoader","container","iconData","options","_defineProperty","_animationLoader","_container","_iconData","_options","connect","_lottie","Error","_objectSpread","animationData","addEventListener","triggerEvent","params","isLoaded","classList","add","_isReady","disconnect","destroy","_colorsProxy","_rawProperties","remove","callback","_eventCallbacks","push","removeEventListener","eventName","i","len","length","splice","args","callbacks","_this$_lottie","renderFrame","play","playFromBeginning","goToAndPlay","playSegment","from","to","playSegments","pause","stop","goToFrame","frame","goToAndStop","goToFirstFrame","goToLastFrame","Math","max","getDuration","arguments","alreadyCustomized","colors","key","Object","entries","startsWith","state","concat","stroke","scale","call","substr","speed","_this$_lottie2","_speed","setSpeed","direction","_direction","setDirection","min","frames","currentFrame","states","isPlaying","isPaused","isReady","duration","lottieInstance"],"sources":["../src/player.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}