{"ast":null,"code":"import _defineProperty from \"/home/buket-b/Portfolio/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n/**\n * Loop trigger plays the animation from first to last frame infinitely, with no interaction necessary.\n */\nexport class Loop {\n  constructor(element, targetElement, player) {\n    _defineProperty(this, \"element\", void 0);\n    _defineProperty(this, \"targetElement\", void 0);\n    _defineProperty(this, \"player\", void 0);\n    _defineProperty(this, \"playTimeout\", null);\n    this.element = element;\n    this.targetElement = targetElement;\n    this.player = player;\n  }\n  onReady() {\n    this.play();\n  }\n  onComplete() {\n    this.play();\n  }\n  onDisconnected() {\n    this.resetPlayDelayTimer();\n  }\n  play() {\n    this.resetPlayDelayTimer();\n    if (this.delay > 0) {\n      this.playTimeout = setTimeout(() => {\n        this.player.playFromBeginning();\n      }, this.delay);\n    } else {\n      this.player.playFromBeginning();\n    }\n  }\n  resetPlayDelayTimer() {\n    if (!this.playTimeout) {\n      return;\n    }\n    clearTimeout(this.playTimeout);\n    this.playTimeout = null;\n  }\n  get delay() {\n    const value = this.element.hasAttribute('delay') ? +(this.element.getAttribute('delay') || 0) : 0;\n    return Math.max(value, 0);\n  }\n}","map":{"version":3,"names":["Loop","constructor","element","targetElement","player","_defineProperty","onReady","play","onComplete","onDisconnected","resetPlayDelayTimer","delay","playTimeout","setTimeout","playFromBeginning","clearTimeout","value","hasAttribute","getAttribute","Math","max"],"sources":["../../src/triggers/loop.ts"],"sourcesContent":[null],"mappings":";AAEA;;;AAGA,OAAM,MAAOA,IAAI;EAGbC,YACcC,OAAoB,EACpBC,aAA0B,EAC1BC,MAAe;IAAAC,eAAA;IAAAA,eAAA;IAAAA,eAAA;IAAAA,eAAA,sBALF,IAAI;IAGjB,KAAAH,OAAO,GAAPA,OAAO;IACP,KAAAC,aAAa,GAAbA,aAAa;IACb,KAAAC,MAAM,GAANA,MAAM;EAEpB;EAEAE,OAAOA,CAAA;IACH,IAAI,CAACC,IAAI,EAAE;EACf;EAEAC,UAAUA,CAAA;IACN,IAAI,CAACD,IAAI,EAAE;EACf;EAEAE,cAAcA,CAAA;IACV,IAAI,CAACC,mBAAmB,EAAE;EAC9B;EAEAH,IAAIA,CAAA;IACA,IAAI,CAACG,mBAAmB,EAAE;IAE1B,IAAI,IAAI,CAACC,KAAK,GAAG,CAAC,EAAE;MAChB,IAAI,CAACC,WAAW,GAAGC,UAAU,CAAC,MAAK;QAC/B,IAAI,CAACT,MAAM,CAACU,iBAAiB,EAAE;MACnC,CAAC,EAAE,IAAI,CAACH,KAAK,CAAC;KACjB,MAAM;MACH,IAAI,CAACP,MAAM,CAACU,iBAAiB,EAAE;;EAEvC;EAEAJ,mBAAmBA,CAAA;IACf,IAAI,CAAC,IAAI,CAACE,WAAW,EAAE;MACnB;;IAGJG,YAAY,CAAC,IAAI,CAACH,WAAW,CAAC;IAC9B,IAAI,CAACA,WAAW,GAAG,IAAI;EAC3B;EAEA,IAAID,KAAKA,CAAA;IACL,MAAMK,KAAK,GAAG,IAAI,CAACd,OAAO,CAACe,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAACf,OAAO,CAACgB,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;IACjG,OAAOC,IAAI,CAACC,GAAG,CAACJ,KAAK,EAAE,CAAC,CAAC;EAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}